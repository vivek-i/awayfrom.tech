<html>
    <head>
        <script src='campsite.js'></script>
        <link rel="stylesheet" href="campsite.css">
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500&amp;family=Roboto:wght@600&amp;display=swap" rel="stylesheet">

    </head>
    <body>
        <section id="titleInfo"></section>
        <section id="imageSection"></section>
        <section id="lower">
            <section id="informationContainer"></section>
            <iframe id="map"></iframe> 
        </section>
        <section id="lower">
            <div id="left">
                <div data-skyscanner-widget="SearchWidget" id="flightWidget"></div>
<script src="https://widgets.skyscanner.net/widget-server/js/loader.js" async></script>
            </div>
            <div id="right">
                <h1>How Crowded Will This Location Be?</h1>
                <div id="imgContainer">                    
                </div>
                <p id="imgdescription">Based off of weather, season, temperature, user ratings, website activity & more</p>
                <div id="ratingContainer">
                    <span onclick="rate(1)">&#9733;</span>
                    <span onclick="rate(2)">&#9733;</span>
                    <span onclick="rate(3)">&#9733;</span>
                    <span onclick="rate(4)">&#9733;</span>
                    <span onclick="rate(5)">&#9733;</span>

                

            </div>
        </section>
        
        <script>
            function getParameterByName(name, url = window.location.href) 
            {
                name = name.replace(/[\[\]]/g, '\\$&');
                var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
                results = regex.exec(url);
                if (!results) return null;
                if (!results[2]) return '';
                return decodeURIComponent(results[2].replace(/\+/g, ' '));
            }
            searchCampsiteById(getParameterByName('id'), getParameterByName('stateCode'))
            function rate(userRating)
            {
                var rateXhr = new XMLHttpRequest()
                rateXhr.open('GET', 'https://poetic-world-320005.uc.r.appspot.com/addRating?location=' + getParameterByName('id') + '&rating=' + userRating)
                rateXhr.send()
                document.getElementById('ratingContainer').style.display = 'none'
                rateXhr.onload = function() {
                    
                }
            }
        </script>

            

    </body>
</html>